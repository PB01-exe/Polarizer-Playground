[gd_scene load_steps=9 format=3 uid="uid://de2qgiuqykmrj"]

[ext_resource type="Script" path="res://camera_3d.gd" id="1_41mg1"]
[ext_resource type="Script" path="res://simulator.gd" id="1_tdyn4"]
[ext_resource type="PackedScene" uid="uid://chckap7onpws4" path="res://Models/blaster-b.glb" id="2_ysu5p"]
[ext_resource type="MeshLibrary" uid="uid://b4v62ptufnm8s" path="res://floor_library.tres" id="3_v2w8k"]
[ext_resource type="MeshLibrary" uid="uid://coaeoj2m13nfj" path="res://wall_library.tres" id="4_icq7b"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ke6vo"]
albedo_color = Color(0.760784, 0.494118, 0.360784, 1)

[sub_resource type="CylinderMesh" id="CylinderMesh_vd10d"]
material = SubResource("StandardMaterial3D_ke6vo")
top_radius = 0.3
bottom_radius = 0.3
height = 0.4

[sub_resource type="BoxMesh" id="BoxMesh_8jop6"]
size = Vector3(0.25, 1, 1)

[node name="Simulator" type="Node"]
script = ExtResource("1_tdyn4")

[node name="Laser" type="Node3D" parent="."]

[node name="blaster-b2" parent="Laser" instance=ExtResource("2_ysu5p")]
transform = Transform3D(-1.5299e-07, 0, -3.5, 0, 3.5, 0, 3.5, 0, -1.5299e-07, 0, 1, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Laser"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.303048, 0.379147, 0)
mesh = SubResource("CylinderMesh_vd10d")

[node name="Analyzer" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0, 0)
visible = false
mesh = SubResource("BoxMesh_8jop6")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(0.819152, -0.40558, 0.40558, 0, 0.707107, 0.707107, -0.573576, -0.579228, 0.579228, 3, 3, 2.5)
fov = 60.0
script = ExtResource("1_41mg1")

[node name="UI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 1280.0
offset_bottom = 720.0

[node name="Button" type="Button" parent="UI"]
layout_mode = 0
offset_right = 8.0
offset_bottom = 8.0
text = "Add Polarizer"

[node name="PolarizerControls" type="HFlowContainer" parent="UI"]
layout_mode = 0
offset_left = 980.0
offset_top = 120.0
offset_right = 1280.0
offset_bottom = 720.0

[node name="Floor" type="GridMap" parent="."]
mesh_library = ExtResource("3_v2w8k")
cell_size = Vector3(1, 1, 1)
cell_center_y = false
data = {
"cells": PackedInt32Array(0, 0, 0, 0, 1, 0, 1, 0, 0, 1, 1, 0, 1, 65535, 0, 0, 65535, 0, 2, 65535, 0, 2, 0, 0, 2, 1, 0, 3, 1, 0, 4, 1, 0, 6, 1, 0, 7, 1, 1441792, 7, 0, 1441792, 7, 65535, 0, 7, 65534, 0, 6, 65534, 0, 5, 65534, 0, 4, 65534, 0, 3, 65534, 0, 3, 0, 0, 3, 65535, 0, 4, 0, 0, 4, 65535, 0, 5, 0, 0, 5, 65535, 0, 6, 0, 0, 6, 65535, 0, 2, 65534, 0, 1, 65534, 0, 0, 65534, 0, 65533, 65534, 0, 65533, 65535, 0, 65533, 0, 0, 65533, 1, 0, 65535, 1, 0, 65534, 1, 0, 65535, 65534, 0, 65535, 65535, 0, 65535, 0, 0, 65534, 0, 0, 65534, 65535, 0, 65534, 65534, 0, 65532, 65534, 0, 65532, 65535, 0, 65532, 0, 0, 65532, 1, 0, 16, 1, 0, 16, 0, 0, 16, 65535, 0, 16, 65534, 0, 9, 65534, 1441792, 8, 65534, 1441792, 15, 65534, 1441792, 14, 65534, 1441792, 13, 65534, 1441792, 12, 65534, 1441792, 11, 65534, 1441792, 10, 65534, 1441792, 9, 65535, 1441792, 9, 0, 1441792, 8, 1, 1441792, 8, 0, 1441792, 8, 65535, 1441792, 10, 0, 1441792, 10, 1, 1441792, 9, 1, 1441792, 10, 65535, 1441792, 11, 65535, 1441792, 12, 65535, 1441792, 13, 65535, 1441792, 14, 65535, 1441792, 15, 65535, 1441792, 15, 0, 1441792, 15, 1, 1441792, 11, 1, 1441792, 11, 0, 1441792, 12, 0, 1441792, 12, 1, 1441792, 13, 1, 1441792, 14, 1, 1441792, 14, 0, 1441792, 13, 0, 1441792, 17, 0, 1441792, 17, 65535, 1441792, 17, 65534, 1441792, 17, 1, 1441792, 18, 1, 1441792, 18, 0, 1441792, 18, 65535, 1441792, 18, 65534, 1441792, 19, 65534, 1441792, 19, 65535, 1441792, 19, 0, 1441792, 19, 1, 1441792, 20, 1, 1441792, 20, 0, 1441792, 20, 65535, 1441792, 20, 65534, 1441792, 21, 65534, 1441792, 21, 65535, 1441792, 21, 0, 1441792, 21, 1, 1441792, 22, 1, 1441792, 22, 0, 1441792, 22, 65535, 1441792, 22, 65534, 1441792, 5, 1, 1441792, 65532, 2, 1441792, 65533, 2, 1441792, 65534, 2, 1441792, 65535, 2, 1441792, 0, 2, 1441792, 1, 2, 1441792, 2, 2, 1441792, 3, 2, 1441792, 4, 2, 1441792, 5, 2, 1441792, 6, 2, 1441792, 7, 2, 1441792, 8, 2, 1441792, 9, 2, 1441792, 10, 2, 1441792, 11, 2, 1441792, 12, 2, 1441792, 13, 2, 1441792, 14, 2, 1441792, 15, 2, 1441792, 16, 2, 1441792, 17, 2, 1441792, 18, 2, 1441792, 19, 2, 1441792, 20, 2, 1441792, 21, 2, 1441792, 22, 2, 1441792, 22, 65533, 1441792, 21, 65533, 1441792, 20, 65533, 1441792, 19, 65533, 1441792, 18, 65533, 1441792, 17, 65533, 1441792, 16, 65533, 1441792, 15, 65533, 1441792, 14, 65533, 1441792, 13, 65533, 1441792, 12, 65533, 1441792, 11, 65533, 1441792, 10, 65533, 1441792, 9, 65533, 1441792, 8, 65533, 1441792, 7, 65533, 1441792, 6, 65533, 1441792, 5, 65533, 1441792, 4, 65533, 1441792, 3, 65533, 1441792, 2, 65533, 1441792, 1, 65533, 1441792, 0, 65533, 1441792, 65535, 65533, 1441792, 65534, 65533, 1441792, 65533, 65533, 1441792, 65532, 65533, 1441792)
}
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="Walls" type="GridMap" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.3, 0)
mesh_library = ExtResource("4_icq7b")
cell_size = Vector3(0.25, 1, 0.25)
cell_center_x = false
cell_center_y = false
cell_center_z = false
data = {
"cells": PackedInt32Array(65521, 11, 2, 65524, 12, 0, 65528, 12, 0, 65532, 12, 0, 0, 12, 0, 4, 12, 0, 8, 12, 0, 12, 12, 0, 16, 12, 0, 20, 12, 0, 24, 12, 0, 28, 12, 0, 32, 12, 0, 36, 12, 0, 40, 12, 0, 44, 12, 0, 48, 12, 0, 52, 12, 0, 56, 12, 0, 60, 12, 0, 64, 12, 0, 68, 12, 0, 72, 12, 0, 76, 12, 0, 65520, 8, 1441792, 65520, 4, 1441792, 65520, 0, 1441792, 65520, 65532, 1441792, 65520, 65528, 1441792, 65521, 65525, 1441794, 65524, 65524, 655360, 65528, 65524, 655360, 65532, 65524, 655360, 0, 65524, 655360, 4, 65524, 655360, 8, 65524, 655360, 12, 65524, 655360, 16, 65524, 655360, 20, 65524, 655360, 24, 65524, 655360, 28, 65524, 655360, 32, 65524, 655360, 36, 65524, 655360, 40, 65524, 655360, 44, 65524, 655360, 48, 65524, 655360, 52, 65524, 655360)
}
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="Lights" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3, 0)

[node name="Light 1" type="OmniLight3D" parent="Lights"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1.5)
light_energy = 0.5
omni_range = 6.5
omni_attenuation = 0.0

[node name="Light 2" type="OmniLight3D" parent="Lights"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7, 0, 1.5)
light_energy = 0.5
omni_range = 6.5
omni_attenuation = 0.0

[node name="Light 3" type="OmniLight3D" parent="Lights"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 14, 0, 1.5)
light_energy = 0.5
omni_range = 6.5
omni_attenuation = 0.0

[node name="Light 4" type="OmniLight3D" parent="Lights"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1.5)
light_energy = 0.5
omni_range = 6.5
omni_attenuation = 0.0

[node name="Light 5" type="OmniLight3D" parent="Lights"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7, 0, -1.5)
light_energy = 0.5
omni_range = 6.5
omni_attenuation = 0.0

[node name="Light 6" type="OmniLight3D" parent="Lights"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 14, 0, -1.5)
light_energy = 0.5
omni_range = 6.5
omni_attenuation = 0.0

[connection signal="pressed" from="UI/Button" to="." method="add_polarizer"]
